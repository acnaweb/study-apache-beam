id: "batch_dataflow"

dataflow:
  project: "study-gcp-398200"
  runner: "DataflowRunner" # SparkRunner (Oracle)
  region: "us-west1"
  staging_location: "gs://acnaweb-study-datalake/temp"
  temp_location: "gs://acnaweb-study-datalake/temp"
  template_location: "gs://acnaweb-study-datalake/template/pipeline_dataflow_bigquery"
  save_main_session: False
  subnetwork: "https://www.googleapis.com/compute/v1/projects/dhuodata/regions/us-west1/subnetworks/dhuodata-subnet-stg-cluster"
  requirements_file: "requirements.txt"

inputs:
  voos:
    # file: "./data/raw/voos_sample.csv"
    file: "gs://acnaweb-study-datalake/inputs/voos_sample.csv"
    separator: ","

outputs:
  voos:
    # file: "./data/processed/voos"
    file: "gs://acnaweb-study-datalake/outputs/voos2.csv"        
    columns:
      - col1
      - col2
      - col3
      - col4
      - col5
      - col6
      - col7
      - col8
      - col9
      - col10
      - col11
      - col12 
    bigquery:
      table: "study-gcp-398200:datalake.voos"
      schema: 
        - col1:STRING
        - col2:STRING
        - col3:STRING
        - col4:STRING
        - col5:STRING
        - col6:STRING
        - col7:STRING
        - col8:STRING
        - col9:STRING
        - col10:STRING
        - col11:STRING
        - col12:STRING
