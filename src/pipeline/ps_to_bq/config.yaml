job:  
  name: voos-pubsub-to-bigquery-metrics

use_dataflow: False

gcp:
  project: dhuodata
  temp_location: gs://dhuoflow-datalake/temp
  dataflow:
    region: us-west1
    staging_location: gs://dhuoflow-datalake/temp
    template_location: gs://dhuoflow-datalake/template
    save_main_session: True
    subnetwork: https://www.googleapis.com/compute/v1/projects/dhuodata/regions/us-west1/subnetworks/dhuodata-subnet-stg-cluster    
    streaming: True
    max_num_workers: 2
  pubsub:
    topic:
    subscription: projects/dhuodata/subscriptions/dhuoflow-bigquery-sub
dataset:
  input:
    file: gs://dhuoflow-datalake/inputs/voos_sample.csv
    separator: ","
    
  output:
    file: gs://dhuoflow-datalake/outputs/voo_enrich.csv
    table: dhuoflow_dataset.voos
    columns:
    - data
    - col2
    - seq
    - col4
    - col5
    - col6
    - col7
    - col8
    - col9
    - col10
    - col11
    - col12 
    schema:
    - data:STRING
    - col2:INTEGER
    - seq:INTEGER
    - col4:STRING
    - col5:STRING
    - col6:STRING
    - col7:STRING
    - col8:STRING
    - col9:STRING
    - col10:STRING
    - col11:STRING
    - col12:STRING

observability:
  statsDHost: "localhost"
  statsDPort: 9125
  prefix: statsd_dataflow

